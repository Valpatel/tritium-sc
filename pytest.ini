[pytest]
pythonpath = src .
testpaths = tests
markers =
    unit: Pure logic tests, no hardware or network required
    hardware: Requires BCC950 camera physically connected
    integration: End-to-end tests against a live server (starts uvicorn)
    ml: Requires Ollama with vision models (llava:7b), advisory results
    slow: Tests that take more than 5 seconds
    timeout: Test timeout in seconds (advisory)
    ux: User experience tests (Playwright, real user interactions)
    defect: Known defect detection tests (expected to FAIL until defects are fixed)
    layout: Layout validation tests
    ui: UI tests (browser-based)
    visual: Visual E2E tests (Playwright + OpenCV)
    deep_analysis: Deep multi-model LLM analysis tests (llava + qwen3.5)
    user_story: User story verification tests (docs/USER-STORIES.md)
    network: Tests that make real network calls (Overpass API, etc.)
    mission_combat: Mission-generated combat visual E2E tests
addopts = -v --tb=short
