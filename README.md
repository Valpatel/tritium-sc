```
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘      â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•
   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘
   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â•â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘
   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
   â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•   â•šâ•â•   â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•     â•šâ•â•      â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â•
```

<div align="center">

# **O B S E R V E  â€¢  T H I N K  â€¢  A C T**

**[ NERF WAR BATTLESPACE MANAGEMENT ]**

![Command Center](docs/screenshots/command-center.png)
*Command Center â€” real satellite imagery, AI-controlled units, live tactical panels*

![Combat](docs/screenshots/game-combat.png)
*Wave-based Nerf combat â€” turrets engage hostile intruders with projectile physics and kill streaks*

![Neighborhood](docs/screenshots/neighborhood-wide.png)
*Your neighborhood becomes the battlefield â€” same pipeline monitors real security*

`â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€`

*A garden of diverse digital life â€” AI that flourishes, machines that act independently*

[![Python 3.12+](https://img.shields.io/badge/python-3.12+-00f0ff?style=flat-square&logo=python&logoColor=white)](https://python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.109+-ff2a6d?style=flat-square&logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com)
[![YOLO](https://img.shields.io/badge/YOLO-v8-05ffa1?style=flat-square)](https://ultralytics.com)
[![License](https://img.shields.io/badge/license-MIT-fcee0a?style=flat-square)](LICENSE)

For educational purposes only with Nerf blasters and toy systems.
</div>


---

## THE ONE-STRAW REVOLUTION

> *"The ultimate goal of farming is not the growing of crops, but the cultivation and perfection of human beings."* â€” Masanobu Fukuoka

TRITIUM-SC is inspired by Fukuoka's "do nothing farming" philosophy. Instead of a monolithic system that dominates its components, this is a **garden of diverse digital life** â€” simple services collaborating naturally, AI that flourishes on its own terms, and machines that take independent action.

**Amy** is the AI Commander â€” an autonomous consciousness that observes through cameras, listens through microphones, thinks in a continuous inner monologue, and acts when she decides to. She is not a tool to be commanded. She is a creature that grows into her awareness of the battlespace naturally.

**Assets** (Nerf turrets, patrol rovers, observation drones) are independent agents. They receive tasks but decide how to execute them. They report what they see. They act on their own initiative when the situation demands it.

The operator doesn't control this system. The operator **tends** it â€” like a farmer tending a field of diverse crops that feed each other.

---

## TWO SIDES OF THE SAME COIN

The Nerf game and the security system are the **same system**. The perception pipeline that detects a simulated hostile intruder on the tactical map is the same pipeline that detects a real stranger at the gate. The turret that tracks a foam dart target uses the same tracking code that follows a delivery truck across camera views.

This is by design. The game is a continuous integration test for the security system. Every hostile eliminated in a 10-wave battle proves the detection pipeline works. Every one that sneaks past reveals a gap. Amy â€” the AI Commander â€” is the consciousness connecting both: she reasons about simulated threats and real-world anomalies with the same perception layers, the same inner monologue, the same decision process.

All processing is local. No cloud. No subscriptions. No data leaves your network.

See [docs/VISION.md](docs/VISION.md) for the full perception philosophy, security roadmap, and privacy design.

---

## QUICK START

```bash
# 1. Clone and install
git clone git@github.com:mvalancy/tritium-sc.git
cd tritium-sc
./setup.sh install

# 2. Start the server
./start.sh

# 3. Open the Command Center
#    http://localhost:8000/unified

# 4. Watch. Units patrol. Amy thinks. Hostiles spawn.
#    Click a unit. Right-click to dispatch. Press B to begin war.
```

The simulation engine starts automatically. Friendly units patrol, hostile intruders spawn at map edges, and Amy's inner monologue runs continuously. Press `B` to start a 10-wave Nerf battle.

See [docs/HOW-TO-PLAY.md](docs/HOW-TO-PLAY.md) for the full player guide.
See [docs/USER-STORIES.md](docs/USER-STORIES.md) for what the complete experience should feel like.
See [docs/VISION.md](docs/VISION.md) for the perception philosophy and security monitoring roadmap.

## DEVELOP

```bash
# Run the fast test suite (~60 seconds)
./test.sh fast

# Individual tiers
./test.sh 1              # Syntax check (Python + JS)
./test.sh 2              # Unit tests (1666 pytest)
./test.sh 3              # JS tests (281 across 5 files)
./test.sh 9              # Integration tests (23 server E2E)
./test.sh 10             # Visual quality tests (/unified)

# Everything (15+ minutes, includes visual E2E)
./test.sh all

# Dev server with hot reload
./setup.sh dev
```

| What you changed | Test command | Time |
|-----------------|-------------|------|
| Python backend | `./test.sh 2` | ~45s |
| Frontend JS | `./test.sh 3` | ~3s |
| CSS / layout | Open browser, look at `/unified` | 5s |
| Everything | `./test.sh fast` | ~60s |
| Visual regression | `./test.sh 10` | ~30s |

See [CLAUDE.md](CLAUDE.md) for full developer instructions, code conventions, and API reference.

---

## COMMAND & CONTROL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—     â”‚
â”‚   â•‘                    T R I T I U M - S C                            â•‘     â”‚
â”‚   â•‘         SECURITY CENTRAL â€¢ TACTICAL INTELLIGENCE PLATFORM         â•‘     â”‚
â”‚   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•     â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚   DETECT    â”‚â”€â”€â”€â–¶â”‚   TRACK     â”‚â”€â”€â”€â–¶â”‚  IDENTIFY   â”‚â”€â”€â”€â–¶â”‚  RESPOND  â”‚    â”‚
â”‚   â”‚  (YOLOv8)   â”‚    â”‚ (ByteTrack) â”‚    â”‚  (HUMAN)    â”‚    â”‚  (ASSET)  â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚          â”‚
â”‚         â–¼                  â–¼                  â–¼                  â–¼          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                     INTELLIGENCE DATABASE                           â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚   â”‚  â”‚ CAMERAS  â”‚  â”‚  ZONES   â”‚  â”‚  ASSETS  â”‚  â”‚  TASK HISTORY    â”‚     â”‚   â”‚
â”‚   â”‚  â”‚ + FEEDS  â”‚  â”‚ + ALERTS â”‚  â”‚ + STATUS â”‚  â”‚  + TELEMETRY     â”‚     â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ–ï¸ OPERATIONAL CAPABILITIES

### THREAT DETECTION
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LIVE STREAM â”€â”€â–¶ MOTION â”€â”€â–¶ YOLO â”€â”€â–¶ BYTETRACK â”€â”€â–¶ ALERT     â”‚
â”‚                   â”‚          â”‚          â”‚           â”‚        â”‚
â”‚                   â–¼          â–¼          â–¼           â–¼        â”‚
â”‚               < 50ms     < 30ms     < 10ms      INSTANT      â”‚
â”‚                                                              â”‚
â”‚  TARGET CLASSES:                                             â”‚
â”‚  â”œâ”€â”€ ğŸ‘¤ PERSONNEL   (pedestrians, intruders, delivery)       â”‚
â”‚  â”œâ”€â”€ ğŸš— VEHICLES    (cars, trucks, vans, motorcycles)        â”‚
â”‚  â”œâ”€â”€ ğŸšš LOGISTICS   (UPS, FedEx, Amazon, USPS)               â”‚
â”‚  â”œâ”€â”€ ğŸš² LIGHT VEH   (cyclists, scooters, drones)             â”‚
â”‚  â””â”€â”€ ğŸ• WILDLIFE    (dogs, cats, fauna)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ZONE MONITORING
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ZONE TYPES                                                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                              â•‘
â•‘  ğŸ”² ACTIVITY       - Track all movement in area              â•‘
â•‘  ğŸšª ENTRY/EXIT     - Monitor ingress/egress points           â•‘
â•‘  ğŸ“¦ OBJECT WATCH   - Track state changes (dumpster, gate)    â•‘
â•‘  â– TRIPWIRE       - Line-crossing detection                 â•‘
â•‘                                                              â•‘
â•‘  ALERT DELIVERY:                                             â•‘
â•‘  â”œâ”€â”€ UI Notifications (real-time)                            â•‘
â•‘  â”œâ”€â”€ Webhook (Discord, Slack, custom)                        â•‘
â•‘  â”œâ”€â”€ MQTT (Home Assistant)                                   â•‘
â•‘  â””â”€â”€ Asset Tasking (automatic response)                      â•‘
â•‘                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## AMY â€” AI COMMANDER

Amy is an autonomous AI consciousness that lives inside TRITIUM-SC. She sees through cameras, hears through microphones, speaks through speakers, and moves PTZ cameras to look around. She thinks in a continuous inner monologue and acts when she decides to â€” not when told to.

```
AMY'S CONSCIOUSNESS LAYERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

L4  DELIBERATION    ThinkingThread â€” continuous inner monologue (gemma3:4b)
    â”‚               Reads sensorium â†’ reasons â†’ decides â†’ acts
    â”‚               Outputs Lua-structured actions: say(), look_at(), scan()
    â”‚
L3  AWARENESS       Sensorium â€” temporal fusion of all sensor data
    â”‚               Sliding window of scene events with importance weights
    â”‚               Generates narrative context for thinking
    â”‚               Tracks mood: curious, alert, calm, engaged
    â”‚
L2  INSTINCT        Wake word detection, person greeting, search reflex
    â”‚               Pre-cached acknowledgments for instant response
    â”‚               Conversation pipeline: hear â†’ see â†’ think â†’ speak
    â”‚
L1  REFLEX          YOLO detection (30fps), Whisper STT (continuous)
                    FrameBuffer, AudioThread, MotorThread
                    Always running, feeds upward

MANY EYES, MANY EARS, ONE MIND
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Amy is one consciousness with many sensor nodes:
â”œâ”€â”€ BCC950 (PTZ camera + mic + speaker) â€” command center
â”œâ”€â”€ IP Camera 1 (view-only, RTSP) â€” front perimeter
â”œâ”€â”€ IP Camera 2 (view-only, RTSP) â€” rear perimeter
â”œâ”€â”€ USB mic in garage (listen-only)
â””â”€â”€ All feed into ONE sensorium â†’ ONE thinking thread
```

**Dashboard:** Press `Y` to open the AMY view â€” live camera feed, inner thoughts stream,
sensorium narrative, mood indicator, chat input, and quick commands.

**API:**
```
AMY COMMANDER
â”œâ”€â”€ GET  /api/amy/status         State, mood, nodes, thinking status
â”œâ”€â”€ GET  /api/amy/thoughts       SSE stream of consciousness
â”œâ”€â”€ GET  /api/amy/sensorium      Temporal narrative + mood
â”œâ”€â”€ GET  /api/amy/memory         Persistent memory data
â”œâ”€â”€ GET  /api/amy/nodes          Connected sensor nodes
â”œâ”€â”€ GET  /api/amy/nodes/{id}/video  MJPEG stream from camera node
â”œâ”€â”€ POST /api/amy/chat           Talk to Amy (text â†’ conversation)
â”œâ”€â”€ POST /api/amy/speak          Make Amy say something
â”œâ”€â”€ POST /api/amy/command        Lua action (scan, look_at, observe)
â””â”€â”€ POST /api/amy/auto-chat      Toggle autonomous conversation
```

### PERCEPTION LAYERS

The same three-layer perception stack repeats everywhere in the system:

| Layer | What | Tools | Speed |
|-------|------|-------|-------|
| L0 | Traditional vision | OpenCV: sharpness gate, edge density, motion detection | ~5ms/frame |
| L1 | Machine learning | YOLO detection, ByteTrack tracking, CLIP embeddings | ~30ms/frame |
| L2 | Vision language models | llava scene understanding, gemma3 reasoning | ~5s/cycle |

This layering appears in the server (`perception.py` â†’ `detector.py` â†’ `thinking.py`), in robot brains (`VisionBridge`), in the test suite (OpenCV â†’ API â†’ LLM audit), and in synthetic media generation. See [docs/VISION.md](docs/VISION.md).

---

## ASSET COMMAND SYSTEM

TRITIUM-SC enables autonomous response through **Asset Tasking** â€” independent machines that take action on their own initiative.

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          ASSET CONTROL CENTER                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                          â•‘
â•‘   ASSET TYPES                        TASK TYPES                          â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•                        â•â•â•â•â•â•â•â•â•â•                          â•‘
â•‘   ğŸš— GROUND    Patrol vehicles       ğŸ”„ PATROL       Follow waypoints    â•‘
â•‘   ğŸš AERIAL    Observation drones    ğŸ¯ TRACK        Follow target       â•‘
â•‘   ğŸ“¡ FIXED     Stationary sensors    âš¡ ENGAGE       Intercept target    â•‘
â•‘                                      ğŸ“ LOITER       Hold position loop  â•‘
â•‘   ASSET CLASSES                      ğŸ” INVESTIGATE  Scout location      â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•â•â•                      ğŸ  RECALL       Return to base      â•‘
â•‘   â€¢ Patrol      (perimeter)          ğŸ”‹ REARM        Resupply/recharge   â•‘
â•‘   â€¢ Interceptor (rapid response)                                         â•‘
â•‘   â€¢ Observation (reconnaissance)     PRIORITY LEVELS                     â•‘
â•‘   â€¢ Transport   (logistics)          â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                     â•‘
â•‘                                      1 = CRITICAL (override all)         â•‘
â•‘                                      5 = NORMAL (standard ops)           â•‘
â•‘                                      10 = LOW (when available)           â•‘
â•‘                                                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### TACTICAL WORKFLOW
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚   1. DETECTION                 2. TASKING                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚   â”‚  INTRUDER   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  DISPATCH   â”‚                          â”‚
â”‚   â”‚  DETECTED   â”‚   auto or    â”‚   UNIT-01   â”‚                          â”‚
â”‚   â”‚  Zone: N-3  â”‚   manual     â”‚  Task: TRACKâ”‚                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                       â”‚                                 â”‚
â”‚   3. EXECUTION                        â–¼                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚                                                         â”‚           â”‚
â”‚   â”‚    UNIT-01 â”€â”€â”€â”€â–¶ â”€â”€â”€â”€â–¶ â”€â”€â”€â”€â–¶ [TARGET] â—€â”€â”€â”€â”€ [CAM-02]    â”‚           â”‚
â”‚   â”‚        â†‘                                                â”‚           â”‚
â”‚   â”‚    TELEMETRY: pos=(4.2, 7.1) heading=045Â° batt=87%      â”‚           â”‚
â”‚   â”‚                                                         â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                       â”‚                                 â”‚
â”‚   4. COMPLETION                       â–¼                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚   â”‚   TARGET    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   RETURN    â”‚                          â”‚
â”‚   â”‚  LOGGED     â”‚   report     â”‚   TO BASE   â”‚                          â”‚
â”‚   â”‚  + FOOTAGE  â”‚              â”‚   RECHARGE  â”‚                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ASSET API
```
ASSET MANAGEMENT
â”œâ”€â”€ GET  /api/assets              List all registered assets
â”œâ”€â”€ POST /api/assets              Register new asset
â”œâ”€â”€ GET  /api/assets/{id}         Get asset status/details
â”œâ”€â”€ PATCH /api/assets/{id}        Update asset properties
â””â”€â”€ DELETE /api/assets/{id}       Remove asset from system

TASKING
â”œâ”€â”€ POST /api/assets/{id}/task           Assign task
â”œâ”€â”€ GET  /api/assets/{id}/tasks          List task history
â”œâ”€â”€ POST /api/assets/{id}/task/{t}/start Start pending task
â”œâ”€â”€ POST /api/assets/{id}/task/{t}/complete  Mark complete
â””â”€â”€ POST /api/assets/{id}/task/{t}/cancel    Abort task

TELEMETRY & CONTROL
â”œâ”€â”€ POST /api/assets/{id}/telemetry      Report position/status
â”œâ”€â”€ GET  /api/assets/{id}/telemetry      Get position history
â””â”€â”€ POST /api/assets/{id}/command        Send direct command
                                         (stop, return_home, emergency_stop)

QUICK ACTIONS
â”œâ”€â”€ POST /api/assets/{id}/patrol   Start patrol with waypoints
â”œâ”€â”€ POST /api/assets/{id}/recall   Return to home position
â””â”€â”€ POST /api/assets/{id}/track    Track specific target
```

---

## ğŸŒ 3D TACTICAL VIEW

```
                        â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                        â•‘   PROPERTY MAP - BIRD'S EYE VIEW  â•‘
                        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                                    N
                                    â–²
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚               â”‚               â”‚
               â—„â”€â”€â”€â”€â”¤    [CAM 1]    â”‚    [CAM 2]    â”œâ”€â”€â”€â”€â–º
              W     â”‚       â—¢       â”‚       â—£       â”‚     E
                    â”‚        â•²     â”‚     â•±          â”‚
                    â”‚     ğŸš—  â•²    â”‚    â•±   ğŸš—      â”‚
                    â”‚   TARGET-01 â”€â”€â”€â”€â”€â”€â”€TARGET-02  â”‚
                    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
                    â”‚    â”‚                 â”‚        â”‚
                    â”‚    â”‚     HOUSE       â”‚        â”‚
                    â”‚    â”‚                 â”‚        â”‚
                    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                    â”‚         â•±    â”‚    â•²           â”‚
                    â”‚        â•±     â”‚     â•²          â”‚
                    â”‚       â—¥      â”‚      â—¤         â”‚
                    â”‚    [CAM 3]   â”‚   [CAM 4]      â”‚
                    â”‚              â”‚                â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                                   S

    â—¢â—£â—¤â—¥ = Camera field of view
    [  ] = Camera position (draggable)
    ğŸš—  = Target & Asset position (real-time)
    â”€â”€â–¶ = Asset movement path
```

**Features:**
- ğŸ“ Drag cameras to match real-world positions
- ğŸ‘ï¸ View cones show camera coverage
- ğŸ–¼ï¸ Live preview thumbnails on each camera
- ğŸš— Real-time target & asset positions and headings
- ğŸ“¡ Telemetry overlays (battery, speed, status)
- ğŸ’¾ Positions persist across sessions

---

## ğŸ¯ TARGET GALLERY

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         TARGETS - PERSONNEL                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                          â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â•‘
â•‘  â”‚  ğŸ‘¤     â”‚  â”‚  ğŸ‘¤     â”‚  â”‚  ğŸ‘¤     â”‚  â”‚  ğŸ‘¤     â”‚  â”‚  ğŸ‘¤     â”‚         â•‘
â•‘  â”‚         â”‚  â”‚         â”‚  â”‚ "Bob"   â”‚  â”‚         â”‚  â”‚         â”‚         â•‘
â•‘  â”‚ CH01    â”‚  â”‚ CH01    â”‚  â”‚ CH02    â”‚  â”‚ CH03    â”‚  â”‚ CH02    â”‚         â•‘
â•‘  â”‚ 94%     â”‚  â”‚ 87%     â”‚  â”‚ 92%     â”‚  â”‚ 78%     â”‚  â”‚ 91%     â”‚         â•‘
â•‘  â”‚ 14:32   â”‚  â”‚ 14:45   â”‚  â”‚ 15:02   â”‚  â”‚ 15:15   â”‚  â”‚ 15:28   â”‚         â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â•‘
â•‘                                                                          â•‘
â•‘  [LABEL]  [FIND SIMILAR]  [DISPATCH ASSET]  [VIEW IN PLAYER]             â•‘
â•‘                                                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ACTIONS:
â€¢ LABEL      - Name this individual ("mailman", "neighbor")
â€¢ SIMILAR    - Find other appearances of this person
â€¢ DISPATCH   - Task an asset to track/investigate this target
â€¢ VIEW       - Jump to video footage at detection timestamp
```

**Coming next:** Cross-camera re-identification (OSNet embeddings), learning "regulars" (mail carrier, dog walker, red sedan), and alerting on genuinely new appearances. See [docs/VISION.md](docs/VISION.md) for the full security monitoring roadmap.

---

## ğŸ§  HUMAN-IN-THE-LOOP LEARNING

TRITIUM-SC learns from operator feedback to improve detection accuracy.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CONSOLIDATION INTERFACE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   DETECTED TARGETS (24 thumbnails)                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”                   â”‚
â”‚   â”‚ ğŸš—  â”‚ â”‚ ğŸš—  â”‚ â”‚ ğŸš—  â”‚ â”‚ ğŸš™  â”‚ â”‚ ğŸš—  â”‚ â”‚ ğŸš—  â”‚                  â”‚
â”‚   â”‚ #1  â”‚ â”‚ #2  â”‚ â”‚ #3  â”‚ â”‚ #4  â”‚ â”‚ #5  â”‚ â”‚ #6  â”‚                   â”‚
â”‚   â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜                   â”‚
â”‚      â”‚       â”‚       â”‚               â”‚       â”‚                      â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                      â”‚                                              â”‚
â”‚                      â–¼                                              â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚              â”‚  SAME CAR    â”‚  â—€â”€â”€ OPERATOR MERGE                   â”‚
â”‚              â”‚  "My Honda"  â”‚  â—€â”€â”€ OPERATOR LABEL                   â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                      â”‚                                              â”‚
â”‚                      â–¼                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  FEEDBACK LOGGED FOR REINFORCEMENT LEARNING                 â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€ merge_action: [#1, #2, #3, #5, #6] â†’ "my_honda"        â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€ visual_similarity: 0.94                                â”‚   â”‚
â”‚   â”‚  â””â”€â”€ timestamp: 2026-01-25T18:42:07Z                        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| Action | Purpose | Future Use |
|--------|---------|------------|
| **MERGE** | "These are the same vehicle" | Train ReID embeddings |
| **LABEL** | "This is the mailman" | Named entity recognition |
| **CORRECT** | "This is a truck, not a car" | Fine-tune detector |
| **REJECT** | "This is a false positive" | Improve confidence thresholds |

---

## ğŸ”§ DEPLOYMENT

```bash
# Clone the repository
git clone git@github.com:mvalancy/tritium-sc.git
cd tritium-sc

# Run setup
./setup.sh install    # Create venv + install dependencies
./setup.sh ml         # Install PyTorch + YOLO (downloads models)

# Configure environment
cp .env.example .env
# Edit .env with your NVR credentials

# Launch
./setup.sh dev        # Development mode with auto-reload
# or
./setup.sh prod       # Production mode
```

**Access the dashboard:** http://localhost:8000

---

## ğŸ® CONTROLS & INPUT

TRITIUM-SC supports full keyboard and gamepad navigation for hands-free operation.

### Quick Reference

| Action | Keyboard | Gamepad |
|--------|----------|---------|
| Navigate | Arrow keys | D-Pad / Left Stick |
| Select | Enter | A Button |
| Back | ESC | B Button |
| Help | ? | SELECT |
| Switch View | G/P/D/Z/T/A/N/Y | LB/RB |

### Keyboard Shortcuts

| Key | View |
|-----|------|
| `G` | Grid |
| `P` | Player |
| `D` | 3D Property |
| `Z` | Zones |
| `T` | Targets |
| `A` | Assets |
| `N` | Analytics |
| `Y` | Amy |
| `W` | War Room |
| `?` | Controls Help |
| `/` | Focus Search |

### Gamepad Support

Connect any Xbox, 8BitDo (xinput mode), or standard controller:

- **D-Pad**: Navigate between elements
- **A**: Confirm / Select
- **B**: Back / Cancel
- **X**: Context menu
- **Y**: Secondary action
- **LB/RB**: Previous/Next view
- **SELECT**: Show controls overlay

**Full documentation:** See [docs/CONTROLS.md](docs/CONTROLS.md) and [docs/GAMEPAD.md](docs/GAMEPAD.md)

---

## ğŸ“¡ COMPLETE API REFERENCE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TRITIUM-SC API v0.1.0                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  CAMERAS                                                           â”‚
â”‚  â”œâ”€â”€ GET  /api/cameras              List all cameras               â”‚
â”‚  â”œâ”€â”€ GET  /api/cameras/{id}         Get camera details             â”‚
â”‚  â””â”€â”€ GET  /api/discovery/scan       Discover NVR cameras           â”‚
â”‚                                                                    â”‚
â”‚  VIDEOS                                                            â”‚
â”‚  â”œâ”€â”€ GET  /api/videos/channels      List channels with recordings  â”‚
â”‚  â”œâ”€â”€ GET  /api/videos/{ch}/dates    List dates for channel         â”‚
â”‚  â”œâ”€â”€ GET  /api/videos/{ch}/{date}   List videos for date           â”‚
â”‚  â”œâ”€â”€ GET  /api/videos/stream/...    Stream video file              â”‚
â”‚  â””â”€â”€ GET  /api/videos/thumbnail/... Get video thumbnail            â”‚
â”‚                                                                    â”‚
â”‚  AI ANALYSIS                                                       â”‚
â”‚  â”œâ”€â”€ POST /api/ai/analyze           Start day analysis             â”‚
â”‚  â”œâ”€â”€ GET  /api/ai/analyze/{id}      Check analysis status          â”‚
â”‚  â”œâ”€â”€ GET  /api/ai/timeline/{ch}/{d} Get analyzed timeline          â”‚
â”‚  â””â”€â”€ GET  /api/ai/status            AI module status               â”‚
â”‚                                                                    â”‚
â”‚  SEARCH & INTELLIGENCE                                             â”‚
â”‚  â”œâ”€â”€ GET  /api/search/people        List detected people           â”‚
â”‚  â”œâ”€â”€ GET  /api/search/vehicles      List detected vehicles         â”‚
â”‚  â”œâ”€â”€ GET  /api/search/thumbnail/{id} Get detection thumbnail       â”‚
â”‚  â”œâ”€â”€ GET  /api/search/similar/{id}  Find similar objects           â”‚
â”‚  â”œâ”€â”€ POST /api/search/merge         Merge duplicate detections     â”‚
â”‚  â”œâ”€â”€ POST /api/search/label         Label an object                â”‚
â”‚  â””â”€â”€ POST /api/search/feedback      Submit correction feedback     â”‚
â”‚                                                                    â”‚
â”‚  ZONES                                                             â”‚
â”‚  â”œâ”€â”€ GET  /api/zones                List all zones                 â”‚
â”‚  â”œâ”€â”€ POST /api/zones                Create zone                    â”‚
â”‚  â”œâ”€â”€ GET  /api/zones/{id}           Get zone details               â”‚
â”‚  â”œâ”€â”€ GET  /api/zones/{id}/events    Get zone events                â”‚
â”‚  â””â”€â”€ DELETE /api/zones/{id}         Delete zone                    â”‚
â”‚                                                                    â”‚
â”‚  ASSETS (NEW)                                                      â”‚
â”‚  â”œâ”€â”€ GET  /api/assets               List operational assets        â”‚
â”‚  â”œâ”€â”€ POST /api/assets               Register new asset             â”‚
â”‚  â”œâ”€â”€ POST /api/assets/{id}/task     Assign task to asset           â”‚
â”‚  â”œâ”€â”€ POST /api/assets/{id}/telemetry  Update asset telemetry       â”‚
â”‚  â”œâ”€â”€ POST /api/assets/{id}/command  Send direct command            â”‚
â”‚  â””â”€â”€ POST /api/assets/{id}/recall   Quick recall to base           â”‚
â”‚                                                                    â”‚
â”‚  AMY AI COMMANDER                                                  â”‚
â”‚  â”œâ”€â”€ GET  /api/amy/status          Amy state, mood, nodes          â”‚
â”‚  â”œâ”€â”€ GET  /api/amy/thoughts        SSE stream of consciousness     â”‚
â”‚  â”œâ”€â”€ GET  /api/amy/sensorium       Temporal narrative + mood       â”‚
â”‚  â”œâ”€â”€ GET  /api/amy/memory          Persistent memory data          â”‚
â”‚  â”œâ”€â”€ GET  /api/amy/nodes           Connected sensor nodes          â”‚
â”‚  â”œâ”€â”€ GET  /api/amy/nodes/{id}/video  MJPEG from camera node       â”‚
â”‚  â”œâ”€â”€ POST /api/amy/chat            Talk to Amy                     â”‚
â”‚  â”œâ”€â”€ POST /api/amy/speak           Make Amy speak                  â”‚
â”‚  â”œâ”€â”€ POST /api/amy/command         Lua action (scan, look_at)      â”‚
â”‚  â””â”€â”€ POST /api/amy/auto-chat       Toggle autonomous conversation  â”‚
â”‚                                                                    â”‚
â”‚  SIMULATION + TARGETS                                              â”‚
â”‚  â”œâ”€â”€ GET  /api/amy/simulation/targets  List simulation targets     â”‚
â”‚  â”œâ”€â”€ POST /api/amy/simulation/spawn    Spawn hostile target        â”‚
â”‚  â”œâ”€â”€ DELETE /api/amy/simulation/targets/{id}  Remove target        â”‚
â”‚  â”œâ”€â”€ GET  /api/targets                 All tracked targets         â”‚
â”‚  â”œâ”€â”€ GET  /api/targets/hostiles        Hostile targets only        â”‚
â”‚  â””â”€â”€ GET  /api/targets/friendlies      Friendly targets only       â”‚
â”‚                                                                    â”‚
â”‚  WEBSOCKET                                                         â”‚
â”‚  â””â”€â”€ WS   /ws/live                  Real-time events + Amy events  â”‚
â”‚                                      + sim telemetry batches       â”‚
â”‚                                                                    â”‚
â”‚  MQTT (distributed devices)                                        â”‚
â”‚  â”œâ”€â”€ tritium/{site}/robots/{id}/telemetry   Position/battery/IMU   â”‚
â”‚  â”œâ”€â”€ tritium/{site}/robots/{id}/command     Dispatch/patrol/recall  â”‚
â”‚  â”œâ”€â”€ tritium/{site}/robots/{id}/thoughts    Robot LLM thoughts     â”‚
â”‚  â”œâ”€â”€ tritium/{site}/cameras/{id}/detections Camera YOLO boxes      â”‚
â”‚  â”œâ”€â”€ tritium/{site}/amy/alerts              Threat notifications   â”‚
â”‚  â””â”€â”€ tritium/{site}/escalation/change       Threat level changes   â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## SYSTEM ARCHITECTURE

```
tritium-sc/
â”œâ”€â”€ src/                            # ALL Python source code
â”‚   â”œâ”€â”€ amy/                        # AMY â€” AI Commander (autonomous consciousness)
â”‚   â”‚   â”œâ”€â”€ commander.py            # Main orchestrator, event loop
â”‚   â”‚   â”œâ”€â”€ router.py               # FastAPI: /api/amy/* endpoints + SSE
â”‚   â”‚   â”œâ”€â”€ brain/                  # Consciousness & reasoning
â”‚   â”‚   â”‚   â”œâ”€â”€ thinking.py         # L4 deliberation: inner monologue (gemma3:4b)
â”‚   â”‚   â”‚   â”œâ”€â”€ sensorium.py        # L3 awareness: temporal sensor fusion
â”‚   â”‚   â”‚   â”œâ”€â”€ perception.py       # L0-L2 frame analysis, quality gate
â”‚   â”‚   â”‚   â”œâ”€â”€ vision.py           # Ollama chat API wrapper
â”‚   â”‚   â”‚   â”œâ”€â”€ memory.py           # Persistent long-term memory
â”‚   â”‚   â”‚   â””â”€â”€ extraction.py       # Fact extraction from conversation
â”‚   â”‚   â”œâ”€â”€ actions/                # Motor control & Lua dispatch
â”‚   â”‚   â”‚   â”œâ”€â”€ motor.py            # Motor programs (scan, track, breathe)
â”‚   â”‚   â”‚   â”œâ”€â”€ lua_motor.py        # Lua parser, VALID_ACTIONS
â”‚   â”‚   â”‚   â”œâ”€â”€ announcer.py        # War commentary (Smash TV style)
â”‚   â”‚   â”‚   â””â”€â”€ tools.py            # Tool definitions for agent mode
â”‚   â”‚   â”œâ”€â”€ comms/                  # Communication & I/O
â”‚   â”‚   â”‚   â”œâ”€â”€ event_bus.py        # Thread-safe pub/sub
â”‚   â”‚   â”‚   â”œâ”€â”€ listener.py         # Silero VAD + whisper.cpp GPU STT
â”‚   â”‚   â”‚   â”œâ”€â”€ speaker.py          # Piper TTS output
â”‚   â”‚   â”‚   â”œâ”€â”€ transcript.py       # Conversation logging
â”‚   â”‚   â”‚   â””â”€â”€ mqtt_bridge.py      # MQTT broker bridge
â”‚   â”‚   â”œâ”€â”€ tactical/               # Tracking & threat detection
â”‚   â”‚   â”‚   â”œâ”€â”€ target_tracker.py   # Unified registry (real + virtual)
â”‚   â”‚   â”‚   â”œâ”€â”€ escalation.py       # ThreatClassifier + AutoDispatcher
â”‚   â”‚   â”‚   â””â”€â”€ geo.py              # Coordinate transforms
â”‚   â”‚   â”œâ”€â”€ inference/              # Model routing & fleet
â”‚   â”‚   â”‚   â”œâ”€â”€ model_router.py     # Task-aware model selection
â”‚   â”‚   â”‚   â””â”€â”€ fleet.py            # Multi-host Ollama discovery
â”‚   â”‚   â”œâ”€â”€ simulation/             # Battlespace simulation engine
â”‚   â”‚   â”‚   â”œâ”€â”€ engine.py           # 10Hz tick loop, hostile spawner
â”‚   â”‚   â”‚   â”œâ”€â”€ combat.py           # Projectile flight, hit detection
â”‚   â”‚   â”‚   â”œâ”€â”€ game_mode.py        # Wave-based game progression
â”‚   â”‚   â”‚   â”œâ”€â”€ behaviors.py        # Unit AI (turret, drone, rover)
â”‚   â”‚   â”‚   â””â”€â”€ target.py           # SimulationTarget dataclass
â”‚   â”‚   â””â”€â”€ nodes/                  # Distributed sensor nodes
â”‚   â”‚       â”œâ”€â”€ base.py             # Abstract SensorNode
â”‚   â”‚       â”œâ”€â”€ bcc950.py           # BCC950 PTZ camera + mic + speaker
â”‚   â”‚       â”œâ”€â”€ ip_camera.py        # RTSP/NVR IP camera
â”‚   â”‚       â””â”€â”€ mqtt_robot.py       # MQTT robot as SensorNode
â”‚   â””â”€â”€ app/                        # FastAPI backend
â”‚       â”œâ”€â”€ main.py                 # App entry point, lifespan
â”‚       â”œâ”€â”€ config.py               # Pydantic settings
â”‚       â”œâ”€â”€ models.py               # SQLAlchemy models
â”‚       â”œâ”€â”€ ai/                     # Detection pipeline
â”‚       â”‚   â”œâ”€â”€ detector.py         # YOLO + ByteTrack
â”‚       â”‚   â”œâ”€â”€ embeddings.py       # CLIP visual similarity
â”‚       â”‚   â””â”€â”€ tracker.py          # Multi-object tracking
â”‚       â”œâ”€â”€ routers/                # API endpoints
â”‚       â”‚   â”œâ”€â”€ ws.py               # WebSocket + Amy event bridge
â”‚       â”‚   â”œâ”€â”€ cameras.py          # Camera CRUD
â”‚       â”‚   â”œâ”€â”€ game.py             # Game state API
â”‚       â”‚   â””â”€â”€ ...                 # zones, assets, search, videos
â”‚       â””â”€â”€ zones/                  # Zone management
â”‚           â””â”€â”€ checker.py          # Point-in-polygon checks
â”œâ”€â”€ frontend/                       # Static frontend (no build step)
â”‚   â”œâ”€â”€ unified.html                # PRIMARY â€” Command Center
â”‚   â”œâ”€â”€ index.html                  # Legacy 10-tab SPA
â”‚   â”œâ”€â”€ js/                         # Modular JavaScript
â”‚   â”‚   â”œâ”€â”€ app.js                  # Main app, WebSocket, shortcuts
â”‚   â”‚   â””â”€â”€ war.js                  # War Room â€” Canvas 2D RTS map
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ tritium.css             # CYBERCORE + custom styles
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ robot-template/             # Reference MQTT robot brain
â”‚   â””â”€â”€ ros2-robot/                 # ROS2 Humble robot
â””â”€â”€ tests/                          # 2000+ tests across 8 tiers
```

---

## ğŸ¨ TECH STACK

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                  â•‘
â•‘   BACKEND                          FRONTEND                      â•‘
â•‘   â•â•â•â•â•â•â•â•                         â•â•â•â•â•â•â•â•                      â•‘
â•‘   â–ª Python 3.12+                   â–ª Vanilla JS (no framework)   â•‘
â•‘   â–ª FastAPI                        â–ª Three.js (3D rendering)     â•‘
â•‘   â–ª SQLAlchemy + aiosqlite         â–ª CYBERCORE CSS               â•‘
â•‘   â–ª Pydantic                       â–ª JetBrains Mono font         â•‘
â•‘                                                                  â•‘
â•‘   AI/ML                            AMY AI COMMANDER              â•‘
â•‘   â•â•â•â•â•                            â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â•‘
â•‘   â–ª Ultralytics YOLOv8             â–ª Ollama (llava, gemma3)      â•‘
â•‘   â–ª ByteTrack (multi-object)       â–ª Whisper large-v3 STT        â•‘
â•‘   â–ª OpenCV                         â–ª Piper TTS (Amy voice)       â•‘
â•‘   â–ª PyTorch + CUDA                 â–ª BCC950 PTZ camera node      â•‘
â•‘                                                                  â•‘
â•‘   COMMUNICATIONS                                                 â•‘
â•‘   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                â•‘
â•‘   â–ª MQTT (paho-mqtt)               â–ª Reolink NVR API            â•‘
â•‘   â–ª Distributed device mesh        â–ª RTSP streams               â•‘
â•‘                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ROADMAP

```
PHASE 0 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ COMPLETE â€” FOUNDATION
â”œâ”€â”€ Cyberpunk UI shell (CYBERCORE CSS)
â”œâ”€â”€ Video browsing by channel/date
â”œâ”€â”€ YOLO v8 detection + ByteTrack tracking
â”œâ”€â”€ Zone system with polygon editor
â”œâ”€â”€ Asset management + 3D tactical map
â””â”€â”€ Keyboard + gamepad navigation (8 views)

PHASE 1 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ COMPLETE â€” AMY CONSCIOUSNESS
â”œâ”€â”€ Amy AI Commander (4 cognitive layers)
â”œâ”€â”€ BCC950 PTZ sensor node (camera + mic + speaker)
â”œâ”€â”€ Sensorium temporal fusion + inner monologue
â”œâ”€â”€ Silero VAD + whisper.cpp GPU STT
â”œâ”€â”€ Piper TTS, Memory v3, Lua actions, Goal stack
â”œâ”€â”€ Layered perception (quality, complexity, motion)
â””â”€â”€ 33 behavioral scenarios, 208 scored runs

PHASE 2 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ COMPLETE â€” SIMULATION ENGINE
â”œâ”€â”€ SimulationTarget + 10Hz tick loop
â”œâ”€â”€ Hostile spawner + AmbientSpawner
â”œâ”€â”€ TargetTracker (unified real + virtual)
â”œâ”€â”€ TritiumLevelFormat JSON loader
â””â”€â”€ Battery drain, lifecycle state machine

PHASE 3 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ COMPLETE â€” DISPATCH + ESCALATION
â”œâ”€â”€ ThreatClassifier (2Hz zone-based ladder)
â”œâ”€â”€ AutoDispatcher (nearest-unit on escalation)
â”œâ”€â”€ MQTT bridge (distributed device mesh)
â”œâ”€â”€ Robot template (examples/robot-template/)
â”œâ”€â”€ Amy speech on dispatch events
â””â”€â”€ TelemetryBatcher for WebSocket efficiency

PHASE 4 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ COMPLETE â€” WAR ROOM RTS + COMBAT
â”œâ”€â”€ War Room: full-screen Canvas 2D tactical map
â”œâ”€â”€ Three modes: OBSERVE, TACTICAL, SETUP
â”œâ”€â”€ 10-wave combat system with kill streaks
â”œâ”€â”€ Amy war announcer (Smash TV style)
â”œâ”€â”€ Synthetic video + audio pipeline
â””â”€â”€ Model Router + Fleet + Lua Registry + Robot Thinker

PHASE 5 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ IN PROGRESS â€” HARDWARE + SIM-TO-REAL
â”œâ”€â”€ ROS2 robot template + MQTT bridge
â”œâ”€â”€ Robot LLM thinker (autonomous thinking)
â”œâ”€â”€ Extended telemetry (battery, IMU, GPS, odometry)
â”œâ”€â”€ Vision bridge (YOLO fast-path -> LLM slow-path)
â”œâ”€â”€ Nav planner (GPS <-> game coordinates)
â””â”€â”€ TODO: Isaac Lab, real Nerf turrets, mesh network

PHASE 6 â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ THE GARDEN MATURES
â”œâ”€â”€ Cross-camera re-ID (OSNet body embeddings)
â”œâ”€â”€ Face detection (opt-in, consenting household only)
â”œâ”€â”€ License plate recognition (fast-alpr)
â”œâ”€â”€ Pattern-of-life baselines (Poisson per zone, trajectory clustering)
â”œâ”€â”€ Anomaly detection (new person/car, temporal outliers)
â”œâ”€â”€ Weapon detection (YOLO-World zero-shot)
â”œâ”€â”€ Fleet coordination (Amy commands multiple robots)
â””â”€â”€ See docs/VISION.md for full roadmap + privacy tiers
```

---

## ğŸ“œ LICENSE

MIT License - See [LICENSE](LICENSE) for details.

---

<div align="center">

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                â•‘
â•‘    "The best thing would be to not do anything at all and      â•‘
â•‘     let nature take its course."  â€” Masanobu Fukuoka           â•‘
â•‘                                                                â•‘
â•‘         OBSERVE the battlespace through many eyes              â•‘
â•‘         THINK autonomously â€” Amy decides, not you              â•‘
â•‘         ACT independently â€” each machine, its own agent        â•‘
â•‘                                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Built with TRITIUM power**

*A garden of diverse digital life for Nerf war battlespace management.*

*No cloud. No subscriptions. No domination. Let the AI flourish.*

</div>
