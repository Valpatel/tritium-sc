# Telegraf configuration — TRITIUM-SC robot node
# Collects local system metrics and writes to the central InfluxDB instance.
# Deploy on each robot alongside the robot brain process.

[agent]
  interval = "10s"
  hostname = ""  # auto-detect from OS hostname

[global_tags]
  role = "robot"

# ---------------------------------------------------------------------------
# Local system metrics
# ---------------------------------------------------------------------------

[[inputs.cpu]]
  percpu = false
  totalcpu = true

[[inputs.mem]]

[[inputs.disk]]
  mount_points = ["/"]

[[inputs.net]]
  interfaces = ["eth*", "wlan*"]

[[inputs.processes]]

# ---------------------------------------------------------------------------
# Output — central InfluxDB v2
# ---------------------------------------------------------------------------

[[outputs.influxdb_v2]]
  urls = ["http://${INFLUX_HOST}:8086"]
  token = "$INFLUX_TOKEN"
  organization = "tritium"
  bucket = "telemetry"
